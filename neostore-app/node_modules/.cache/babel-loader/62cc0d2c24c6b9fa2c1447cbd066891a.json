{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neosoft\\\\Desktop\\\\neostore for practice 3(j,s,a)\\\\amruta\\\\Neostore_Ecommerce_Website\\\\neostore-app\\\\src\\\\Components\\\\EditProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport Account from './Account';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Paper from '@mui/material/Paper';\nimport jwtDecode from 'jwt-decode';\nimport { Form, Button } from 'react-bootstrap';\nimport { editProfile } from '../configFiles/services';\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst paperStyle = {\n  height: '100vh',\n  width: 600,\n  margin: '30px auto',\n  paddingTop: '10px'\n};\n\nfunction EditProfile() {\n  _s();\n\n  const [id, setId] = useState();\n  const [data, setdata] = useState();\n  const [edit, setEditData] = useState({\n    firstName: '',\n    lastName: '',\n    emailAdd: '',\n    phoneNum: '',\n    gender: ''\n  });\n  const [values, setValues] = useState({\n    name: '',\n    lname: '',\n    email: '',\n    mobile: '',\n    gender: ''\n  });\n  const dispatch = useDispatch();\n  const fName = useRef(null);\n  const lName = useRef(null);\n  const email = useRef(null);\n  const phone = useRef(null);\n  const gen = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (localStorage.getItem('_token') !== undefined) {\n      let token = localStorage.getItem('_token');\n      let decode = jwtDecode(token);\n      console.log(decode);\n      setdata(decode);\n    }\n  }, []);\n\n  const handleData = event => {\n    edit.firstName = fName.current.value;\n    edit.lastName = lName.current.value;\n    edit.emailAdd = email.current.value;\n    edit.phoneNum = phone.current.value;\n    edit.gender = gen.current.value;\n    const {\n      name,\n      value\n    } = event.target;\n    setEditData({ ...edit,\n      [name]: value\n    });\n    console.log(edit);\n  };\n\n  const editData = e => {\n    let gens = [\"female\", \"male\", \"others\"];\n\n    if (fName.current.value == data.firstName && lName.current.value == data.lastName && email.current.value == data.emailAdd && phone.current.value == data.phoneNum && gen.current.value == data.gender) {\n      alert(\"Oops ! you have not updated anything !\");\n    } else if (gens.includes(gen.current.value.toLowerCase())) {\n      localStorage.removeItem('_token');\n      editProfile({\n        firstName: edit.firstName,\n        lastName: edit.lastName,\n        emailAdd: edit.emailAdd,\n        phoneNum: edit.phoneNum,\n        gender: edit.gender,\n        id: data.id\n      }).then(res => {\n        localStorage.setItem('_token', res.data.token);\n        alert(res.data.message);\n        window.location.reload();\n      });\n    } else {\n      alert(\"gender should be female,male or others\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container m-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 5,\n            style: paperStyle,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text\",\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Edit Profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: [data != undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      controlId: \"exampleForm.ControlInput1\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"First Name\",\n                        className: \"py-2\",\n                        name: \"firstName\",\n                        defaultValue: data.firstName,\n                        onChange: handleData,\n                        ref: fName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 92,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      controlId: \"exampleForm.ControlInput2\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        defaultValue: data.lastName,\n                        placeholder: \"Last Name\",\n                        className: \"py-2\",\n                        name: \"lastName\",\n                        onChange: handleData,\n                        ref: lName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      controlId: \"exampleForm.ControlInput2\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"email\",\n                        placeholder: \"Email Address\",\n                        defaultValue: data.emailAdd,\n                        className: \"py-2\",\n                        name: \"emailAdd\",\n                        onChange: handleData,\n                        ref: email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 99,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      controlId: \"exampleForm.ControlInput2\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"number\",\n                        placeholder: \"Mobile Number\",\n                        defaultValue: data.phoneNum,\n                        className: \"py-2\",\n                        name: \"phoneNum\",\n                        onChange: handleData,\n                        ref: phone\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      controlId: \"exampleForm.ControlInput2\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Gender\",\n                        defaultValue: data.gender,\n                        className: \"py-2\",\n                        name: \"gender\",\n                        onChange: handleData,\n                        ref: gen\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 54\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"buttons\",\n                    style: {\n                      marginTop: '50px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: editData,\n                      className: \"text-black\",\n                      style: {\n                        width: \"15%\",\n                        backgroundColor: \"grey\",\n                        border: \"none\"\n                      },\n                      children: \"submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditProfile, \"jWwSWWUjgTKvhjcG5iR+FdaeGQI=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = EditProfile;\nexport default EditProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"sources":["C:/Users/Neosoft/Desktop/neostore for practice 3(j,s,a)/amruta/Neostore_Ecommerce_Website/neostore-app/src/Components/EditProfile.js"],"names":["React","useState","useEffect","useRef","Account","Link","useNavigate","Paper","jwtDecode","Form","Button","editProfile","useDispatch","paperStyle","height","width","margin","paddingTop","EditProfile","id","setId","data","setdata","edit","setEditData","firstName","lastName","emailAdd","phoneNum","gender","values","setValues","name","lname","email","mobile","dispatch","fName","lName","phone","gen","navigate","localStorage","getItem","undefined","token","decode","console","log","handleData","event","current","value","target","editData","e","gens","alert","includes","toLowerCase","removeItem","then","res","setItem","message","window","location","reload","marginTop","backgroundColor","border"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\r\nimport Account from './Account';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Paper from '@mui/material/Paper';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { editProfile } from '../configFiles/services';\r\nimport { useDispatch } from 'react-redux';\r\nconst paperStyle = { height: '100vh', width: 600, margin: '30px auto', paddingTop: '10px' }\r\n\r\nfunction EditProfile() {\r\n\r\n    const [id, setId] = useState()\r\n    const [data, setdata] = useState()\r\n    const [edit, setEditData] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        emailAdd: '',\r\n        phoneNum: '',\r\n        gender: ''\r\n    })\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        lname: '',\r\n        email: '',\r\n        mobile: '',\r\n        gender: ''\r\n    })\r\n    const dispatch = useDispatch()\r\n    const fName = useRef(null);\r\n    const lName = useRef(null);\r\n    const email = useRef(null);\r\n    const phone = useRef(null);\r\n    const gen = useRef(null);\r\n    const navigate = useNavigate()\r\n    useEffect(() => {\r\n        if (localStorage.getItem('_token') !== undefined) {\r\n            let token = localStorage.getItem('_token');\r\n            let decode = jwtDecode(token);\r\n            console.log(decode)\r\n            setdata(decode)\r\n        }\r\n    }, [])\r\n\r\n    const handleData = (event) => {\r\n        edit.firstName = fName.current.value;\r\n        edit.lastName = lName.current.value;\r\n        edit.emailAdd = email.current.value;\r\n        edit.phoneNum = phone.current.value;\r\n        edit.gender = gen.current.value;\r\n        const { name, value } = event.target;\r\n        setEditData({ ...edit, [name]: value })\r\n        console.log(edit)\r\n    }\r\n\r\n\r\n    const editData = (e) => {\r\n        let gens=[\"female\",\"male\",\"others\"]\r\n        \r\n        if (fName.current.value == data.firstName && lName.current.value == data.lastName && email.current.value == data.emailAdd && phone.current.value == data.phoneNum && gen.current.value == data.gender) {\r\n            alert(\"Oops ! you have not updated anything !\");\r\n        }\r\n        else if(gens.includes(gen.current.value.toLowerCase())){\r\n            localStorage.removeItem('_token')\r\n            editProfile({ firstName: edit.firstName, lastName: edit.lastName, emailAdd: edit.emailAdd, phoneNum: edit.phoneNum, gender: edit.gender, id: data.id }).then(res => {\r\n                localStorage.setItem('_token', res.data.token)\r\n                alert(res.data.message)\r\n                window.location.reload()\r\n            })\r\n        }\r\n        else{\r\n            alert(\"gender should be female,male or others\")\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div className=\"container m-4\">\r\n                    <div className=\"col-6\">\r\n                        <Paper elevation={5} style={paperStyle} >\r\n                            <div className=\"container\">\r\n                                <div >\r\n                                    <div className=\"text\">\r\n                                        <h3>Edit Profile</h3>\r\n                                    </div>\r\n                                    <form  >\r\n\r\n                                        {\r\n                                            (data != undefined &&\r\n                                                <div>\r\n                                                    <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                                                        <Form.Control type=\"text\" placeholder=\"First Name\" className='py-2' name=\"firstName\" defaultValue={data.firstName} onChange={handleData} ref={fName} />\r\n                                                    </Form.Group>\r\n                                                    <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput2\">\r\n                                                        <Form.Control type=\"text\" defaultValue={data.lastName} placeholder=\"Last Name\" className='py-2' name=\"lastName\" onChange={handleData} ref={lName} />\r\n                                                    </Form.Group>\r\n\r\n                                                    <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput2\">\r\n                                                        <Form.Control type=\"email\" placeholder=\"Email Address\" defaultValue={data.emailAdd} className='py-2' name=\"emailAdd\" onChange={handleData} ref={email} />\r\n                                                    </Form.Group>\r\n                                                    <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput2\">\r\n                                                        <Form.Control type=\"number\" placeholder=\"Mobile Number\" defaultValue={data.phoneNum} className='py-2' name=\"phoneNum\" onChange={handleData} ref={phone} />\r\n                                                    </Form.Group>\r\n                                                     <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput2\">\r\n                        <Form.Control type=\"text\" placeholder=\"Gender\" defaultValue={data.gender}className='py-2' name=\"gender\" onChange={handleData} ref={gen}/>\r\n                    </Form.Group>              \r\n\r\n                                                </div>\r\n                                            )}\r\n\r\n\r\n                                        <div className=\"buttons\" style={{ marginTop: '50px' }}>\r\n                                            <Button onClick={editData} className=\"text-black\" style={{ width: \"15%\", backgroundColor: \"grey\", border: \"none\" }} >submit</Button>\r\n\r\n                                        </div>\r\n\r\n\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </Paper>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile\r\n"]},"metadata":{},"sourceType":"module"}