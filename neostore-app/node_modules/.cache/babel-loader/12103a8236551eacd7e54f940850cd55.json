{"ast":null,"code":"var _jsxFileName = \"D:\\\\am\\\\neostore-app\\\\src\\\\Components\\\\Account.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, Redirect, useNavigate } from 'react-router-dom';\nimport { Button } from '@mui/material';\nimport PersonIcon from '@mui/icons-material/Person';\nimport ReorderIcon from '@mui/icons-material/Reorder';\nimport MenuBookIcon from '@mui/icons-material/MenuBook';\nimport SyncAltIcon from '@mui/icons-material/SyncAlt';\nimport jwtDecode from 'jwt-decode';\nimport { getAll, updateProfilePhoto } from '../configFiles/services';\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Account() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [newUser, setNewUser] = useState({\n    photo: '',\n    id: ''\n  });\n  const [temp, setTemp] = useState(false);\n  const [profile, setProfile] = useState(false);\n  let token = localStorage.getItem(\"_token\");\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (localStorage.getItem('_token') !== undefined) {\n      let token = localStorage.getItem('_token');\n      let decode = jwtDecode(token);\n      console.log(decode);\n      setData(decode);\n    }\n  }, [token]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(newUser.photo);\n    console.log(data);\n    let formData = new FormData();\n    formData.append('photo', newUser.photo);\n    formData.append('emailAdd', data.emailAdd);\n    formData.append('id', data.id);\n    formData.append('firstName', data.firstName);\n    formData.append('phoneNum', data.phoneNum);\n    formData.append('lastName', data.lastName);\n    formData.append('gender', data.gender);\n    formData.append('password', data.password);\n    formData.append('cartData', localStorage.getItem('cartData'));\n    console.log(data.emailAdd);\n    updateProfilePhoto(formData).then(res => {\n      if (res.data.err === 0) {\n        alert(res.data.message);\n        console.log(res.data);\n        localStorage.removeItem('_token');\n        localStorage.setItem('_token', res.data.token);\n        setTemp(prev => !prev);\n        setProfile(false);\n\n        if (!localStorage.getItem(\"cartData\")) {\n          localStorage.setItem('cartData', []);\n        }\n      } else alert(res.data.message);\n    });\n  };\n\n  const handlePhoto = e => {\n    console.log({\n      photo: e.target.files[0]\n    });\n    setNewUser({ ...newUser,\n      photo: e.target.files[0]\n    });\n    console.log(newUser.photo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: data.photo,\n      alt: \"userIcon\",\n      height: \"150px\",\n      style: {\n        borderRadius: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), profile == true && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      encType: \"multipart/form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".png, .jpg, .jpeg\",\n        name: \"photo\",\n        onChange: handlePhoto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"py-2 border-primary bg-white text-primary px-4\",\n        style: {\n          marginLeft: '-80px'\n        },\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-danger mt-2\",\n      children: [data.firstName, \" \", data.lastName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: () => setProfile(true),\n        style: {\n          marginLeft: '10px',\n          marginTop: '20px',\n          width: '200px'\n        },\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(ReorderIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 169\n        }, this), \" \\xA0Change Profile\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/order\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          style: {\n            marginLeft: '10px',\n            marginTop: '20px',\n            width: '200px'\n          },\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(ReorderIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 156\n          }, this), \" \\xA0Order\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          style: {\n            marginLeft: '10px',\n            marginTop: '20px',\n            width: '200px'\n          },\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 158\n          }, this), \" \\xA0 Profile\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/address\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          style: {\n            marginLeft: '10px',\n            marginTop: '20px',\n            width: '200px'\n          },\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(MenuBookIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 158\n          }, this), \" \\xA0 Addresses\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/changepassword\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          style: {\n            marginLeft: '10px',\n            marginTop: '20px',\n            width: '200px'\n          },\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(SyncAltIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 165\n          }, this), \" \\xA0 Change Password\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Account, \"lSxOGyWYq7XO9mmE0xrR3YTz61M=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"sources":["D:/am/neostore-app/src/Components/Account.js"],"names":["React","useState","useEffect","Link","Redirect","useNavigate","Button","PersonIcon","ReorderIcon","MenuBookIcon","SyncAltIcon","jwtDecode","getAll","updateProfilePhoto","useDispatch","Account","data","setData","newUser","setNewUser","photo","id","temp","setTemp","profile","setProfile","token","localStorage","getItem","dispatch","navigate","undefined","decode","console","log","handleSubmit","e","preventDefault","formData","FormData","append","emailAdd","firstName","phoneNum","lastName","gender","password","then","res","err","alert","message","removeItem","setItem","prev","handlePhoto","target","files","borderRadius","marginLeft","marginTop","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, Redirect, useNavigate } from 'react-router-dom';\r\nimport { Button } from '@mui/material';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport ReorderIcon from '@mui/icons-material/Reorder';\r\nimport MenuBookIcon from '@mui/icons-material/MenuBook';\r\nimport SyncAltIcon from '@mui/icons-material/SyncAlt';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { getAll, updateProfilePhoto } from '../configFiles/services';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default function Account() {\r\n    const [data, setData] = useState([]);\r\n    const [newUser, setNewUser] = useState(\r\n        {\r\n            photo: '',\r\n            id: ''\r\n        }\r\n    );\r\n    const [temp, setTemp] = useState(false);\r\n    const[profile,setProfile]=useState(false)\r\n    let token = localStorage.getItem(\"_token\")\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    useEffect(() => {\r\n        if (localStorage.getItem('_token') !== undefined) {\r\n            let token = localStorage.getItem('_token');\r\n            let decode = jwtDecode(token);\r\n            console.log(decode)\r\n            setData(decode);\r\n        }\r\n    }, [token])\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()  \r\n        console.log(newUser.photo)\r\n        console.log(data)\r\n        let formData = new FormData()\r\n        formData.append('photo', newUser.photo)\r\n        formData.append('emailAdd', data.emailAdd)\r\n        formData.append('id', data.id)\r\n        formData.append('firstName', data.firstName)\r\n        formData.append('phoneNum', data.phoneNum)\r\n        formData.append('lastName', data.lastName)\r\n        formData.append('gender', data.gender)\r\n        formData.append('password', data.password)\r\n        formData.append('cartData', localStorage.getItem('cartData'))\r\n        console.log(data.emailAdd)\r\n        updateProfilePhoto(formData).then(res => {\r\n            if (res.data.err === 0) {\r\n                alert(res.data.message)\r\n                console.log(res.data)\r\n                localStorage.removeItem('_token');\r\n                localStorage.setItem('_token', res.data.token)\r\n                setTemp(prev => !prev);\r\n                setProfile(false)\r\n                if (!localStorage.getItem(\"cartData\")) {\r\n                    localStorage.setItem('cartData', [])\r\n                }\r\n            }\r\n            else alert(res.data.message)\r\n        })\r\n        \r\n      \r\n\r\n    }\r\n    const handlePhoto = (e) => {\r\n        console.log({ photo: e.target.files[0] })\r\n        setNewUser({ ...newUser, photo: e.target.files[0] });\r\n        console.log(newUser.photo)\r\n    }\r\n \r\n    return (\r\n        <div>\r\n                <img src={data.photo} alt=\"userIcon\" height=\"150px\" style={{ borderRadius: \"100%\" }} />\r\n            \r\n            {\r\n                profile==true &&\r\n                <form onSubmit={handleSubmit} encType='multipart/form-data'>\r\n                <input\r\n                    type=\"file\"\r\n                    accept=\".png, .jpg, .jpeg\"\r\n                    name=\"photo\"\r\n                    onChange={handlePhoto} />\r\n               <input className='py-2 border-primary bg-white text-primary px-4' style={{ marginLeft: '-80px'}}type='submit' />\r\n            </form>\r\n            }\r\n            <h4 className=\"text-danger mt-2\">{data.firstName} {data.lastName}</h4>\r\n            <div className=\"mb-2\"><Button variant=\"outlined\" onClick={()=>setProfile(true)} style={{ marginLeft: '10px', marginTop: '20px', width: '200px' }} fullWidth><ReorderIcon /> &nbsp;Change Profile</Button></div>\r\n            <div className=\"mb-2\"><Link to=\"/order\"><Button variant=\"outlined\" style={{ marginLeft: '10px', marginTop: '20px', width: '200px' }} fullWidth><ReorderIcon /> &nbsp;Order</Button></Link></div>\r\n            <div className=\"mb-2\"><Link to=\"/profile\"><Button variant=\"outlined\" style={{ marginLeft: '10px', marginTop: '20px', width: '200px' }} fullWidth><PersonIcon /> &nbsp; Profile</Button></Link></div>\r\n            <div className=\"mb-2\"><Link to=\"/address\"><Button variant=\"outlined\" style={{ marginLeft: '10px', marginTop: '20px', width: '200px' }} fullWidth><MenuBookIcon /> &nbsp; Addresses</Button></Link></div>\r\n            <div className=\"mb-2\"><Link to=\"/changepassword\"><Button variant=\"outlined\" style={{ marginLeft: '10px', marginTop: '20px', width: '200px' }} fullWidth><SyncAltIcon /> &nbsp; Change Password</Button></Link></div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}