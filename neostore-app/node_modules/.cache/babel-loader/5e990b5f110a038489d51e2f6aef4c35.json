{"ast":null,"code":"var _jsxFileName = \"D:\\\\am\\\\neostore-app\\\\src\\\\Components\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Carousel, Container, Card, Button } from \"react-bootstrap\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { getProducts, gets, updateCart } from \"../configFiles/services\";\nimport jwt_decode from \"jwt-decode\";\nimport { useDispatch } from \"react-redux\";\nimport { Alert, Rating } from \"@mui/material\";\nimport jwtDecode from \"jwt-decode\";\nimport Toastify from \"toastify-js\";\nimport \"toastify-js/src/toastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const [products, setProducts] = useState();\n  const [show, setShow] = useState(false);\n  const [data, setData] = useState();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    getProducts().then(res => {\n      const result = res.data;\n      let popular = result.filter(result.productRating == 5);\n      console.log(popular);\n      setProducts(popular.slice(0, 8));\n    });\n    setTimeout(() => {\n      dispatch({\n        type: \"cartLen\"\n      });\n    }, 100);\n\n    if (localStorage.getItem(\"_token\")) {\n      let token = localStorage.getItem(\"_token\");\n      let decode = jwt_decode(token);\n      console.log(decode);\n      setData(decode);\n    }\n\n    if (localStorage.getItem(\"cartData\") && localStorage.getItem(\"_token\")) {\n      dispatch({\n        type: \"cartLen\"\n      });\n      let cartDetails = JSON.parse(localStorage.getItem(\"cartData\"));\n      console.log(cartDetails);\n      let token = localStorage.getItem(\"_token\");\n      let decode = jwt_decode(token);\n      console.log(decode.cartData);\n      let arr = cartDetails.concat(decode.cartData);\n      console.log(arr);\n      let jsonObject = arr.map(JSON.stringify);\n      console.log(jsonObject);\n      let uniqueSet = new Set(jsonObject);\n      let uniqueArray = Array.from(uniqueSet).map(JSON.parse);\n      console.log(uniqueArray);\n      setTimeout(() => {\n        dispatch({\n          type: \"pldCart\",\n          payload: uniqueArray.length\n        });\n      }, 200);\n      console.log(uniqueArray);\n      dispatch({\n        type: \"cartLen\"\n      });\n      updateCart({\n        id: decode.id,\n        cartData: uniqueArray\n      }).then(res => {\n        localStorage.clear();\n        localStorage.setItem(\"_token\", res.data);\n      });\n    }\n  }, []);\n\n  const addToCart = pro => {\n    let proData = [];\n\n    if (localStorage.getItem(\"_token\") != undefined) {\n      let productData = {\n        id: pro._id,\n        productImage: pro.productImage,\n        productCost: pro.productCost,\n        productName: pro.productName,\n        productStock: pro.productStock,\n        productProducer: pro.productProducer,\n        quantity: 1\n      };\n      proData.push(productData);\n\n      if (localStorage.getItem(\"cartData\") != undefined) {\n        let cart = JSON.parse(localStorage.getItem(\"cartData\"));\n\n        for (let index = 0; index < cart.length; index++) {\n          if (cart[index].id == pro._id) {\n            Toastify({\n              text: \"Product is available in cart\",\n              className: \"primary\"\n            }).showToast();\n            navigate(\"/cart\");\n            return;\n          }\n        }\n\n        console.log(\"hello\");\n        cart.push(productData);\n        Toastify({\n          text: \"Product is added in the Cart\",\n          className: \"info\",\n          style: {\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\"\n          }\n        }).showToast();\n        dispatch({\n          type: \"addCart\"\n        });\n        localStorage.setItem(\"cartData\", JSON.stringify(cart));\n      } else {\n        let token = localStorage.getItem(\"_token\");\n        let decode = jwtDecode(token);\n\n        for (let index = 0; index < decode.cartData.length; index++) {\n          if (decode.cartData[index].id == pro._id) {\n            Toastify({\n              text: \"Product is available in cart\",\n              className: \"primary\"\n            }).showToast();\n            navigate(\"/cart\");\n            alert(\"there\");\n            return;\n          }\n        }\n\n        decode.cartData.push(productData);\n        Toastify({\n          text: \"Product is added in the Cart\",\n          className: \"info\",\n          style: {\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\"\n          }\n        }).showToast();\n        dispatch({\n          type: \"addCart\"\n        });\n        localStorage.setItem(\"cartData\", JSON.stringify(decode.cartData));\n      }\n    } else {\n      let productData = {\n        id: pro._id,\n        productImage: pro.productImage,\n        productCost: pro.productCost,\n        productName: pro.productName,\n        productStock: pro.productStock,\n        productProducer: pro.productProducer,\n        quantity: 1\n      };\n      proData.push(productData);\n\n      if (localStorage.getItem(\"cartData\") != undefined) {\n        let cart = JSON.parse(localStorage.getItem(\"cartData\"));\n\n        for (let index = 0; index < cart.length; index++) {\n          if (cart[index].id == pro._id) {\n            Toastify({\n              text: \"Product is available in cart\",\n              className: \"primary\"\n            }).showToast();\n            navigate(\"/cart\");\n            return;\n          }\n        }\n\n        console.log(\"hello\");\n        cart.push(productData);\n        Toastify({\n          text: \"Product is added in the Cart\",\n          className: \"info\",\n          style: {\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\"\n          }\n        }).showToast();\n        dispatch({\n          type: \"addCart\"\n        });\n        localStorage.setItem(\"cartData\", JSON.stringify(cart));\n      } else {\n        localStorage.setItem(\"cartData\", JSON.stringify(proData));\n        dispatch({\n          type: \"addCart\"\n        });\n        setShow(true);\n        Toastify({\n          text: \"Product is added in the Cart\",\n          className: \"info\",\n          style: {\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\"\n          }\n        }).showToast();\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Carousel, {\n      children: [/*#__PURE__*/_jsxDEV(Carousel.Item, {\n        interval: 1000,\n        style: {\n          height: \"80vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"d-block w-100\",\n          style: {\n            height: \"80vh\"\n          },\n          src: \"https://media.istockphoto.com/photos/top-view-of-a-luxurious-living-room-in-a-large-house-by-the-sea-picture-id1284941004?b=1&k=20&m=1284941004&s=170667a&w=0&h=p1fReSMFn2cVt75N1FNz5bqeMFlXCokx7Zd7FuFiZeg=\",\n          alt: \"First slide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Carousel.Caption, {\n          classna: true,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Furniture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Furniture refers to movable objects intended to support various human activities such as seating, eating, and sleeping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        interval: 500,\n        style: {\n          height: \"80vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"d-block w-100\",\n          style: {\n            height: \"80vh\"\n          },\n          src: \"https://images.unsplash.com/photo-1618377385011-b861fcfb18f8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=626&q=80\",\n          alt: \"Second slide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Carousel.Caption, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Sofas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Furniture is also used to hold objects at a convenient height for work, or to store things.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        style: {\n          height: \"80vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"d-block w-100\",\n          style: {\n            height: \"80vh\"\n          },\n          src: \"https://images.unsplash.com/photo-1540518614846-7eded433c457?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=857&q=80\",\n          alt: \"Third slide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Carousel.Caption, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Decoration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Furniture can be a product of design and is considered a form of decorative art.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Dashboard, \"BWajLRKt2Dd0UE6/2wv8AQRJpFg=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["D:/am/neostore-app/src/Components/Dashboard.js"],"names":["React","useEffect","useState","Carousel","Container","Card","Button","Navigate","useNavigate","getProducts","gets","updateCart","jwt_decode","useDispatch","Alert","Rating","jwtDecode","Toastify","Dashboard","products","setProducts","show","setShow","data","setData","dispatch","navigate","then","res","result","popular","filter","productRating","console","log","slice","setTimeout","type","localStorage","getItem","token","decode","cartDetails","JSON","parse","cartData","arr","concat","jsonObject","map","stringify","uniqueSet","Set","uniqueArray","Array","from","payload","length","id","clear","setItem","addToCart","pro","proData","undefined","productData","_id","productImage","productCost","productName","productStock","productProducer","quantity","push","cart","index","text","className","showToast","style","background","alert","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Carousel, Container, Card, Button } from \"react-bootstrap\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\n\r\nimport { getProducts, gets, updateCart } from \"../configFiles/services\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Alert, Rating } from \"@mui/material\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport Toastify from \"toastify-js\";\r\nimport \"toastify-js/src/toastify.css\";\r\nfunction Dashboard() {\r\n  const [products, setProducts] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [data, setData] = useState();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    getProducts().then((res) => {\r\n      const result = res.data;\r\n      let popular = result.filter(result.productRating == 5);\r\n      console.log(popular);\r\n      setProducts(popular.slice(0, 8));\r\n    });\r\n    setTimeout(() => {\r\n      dispatch({ type: \"cartLen\" });\r\n    }, 100);\r\n    if (localStorage.getItem(\"_token\")) {\r\n      let token = localStorage.getItem(\"_token\");\r\n      let decode = jwt_decode(token);\r\n      console.log(decode);\r\n      setData(decode);\r\n    }\r\n    if (localStorage.getItem(\"cartData\") && localStorage.getItem(\"_token\")) {\r\n      dispatch({ type: \"cartLen\" });\r\n      let cartDetails = JSON.parse(localStorage.getItem(\"cartData\"));\r\n      console.log(cartDetails);\r\n      let token = localStorage.getItem(\"_token\");\r\n      let decode = jwt_decode(token);\r\n      console.log(decode.cartData);\r\n      let arr = cartDetails.concat(decode.cartData);\r\n      console.log(arr);\r\n      let jsonObject = arr.map(JSON.stringify);\r\n      console.log(jsonObject);\r\n      let uniqueSet = new Set(jsonObject);\r\n      let uniqueArray = Array.from(uniqueSet).map(JSON.parse);\r\n      console.log(uniqueArray);\r\n      setTimeout(() => {\r\n        dispatch({ type: \"pldCart\", payload: uniqueArray.length });\r\n      }, 200);\r\n      console.log(uniqueArray);\r\n      dispatch({ type: \"cartLen\" });\r\n      updateCart({ id: decode.id, cartData: uniqueArray }).then((res) => {\r\n        localStorage.clear();\r\n        localStorage.setItem(\"_token\", res.data);\r\n      });\r\n    }\r\n  }, []);\r\n  const addToCart = (pro) => {\r\n    let proData = [];\r\n    if (localStorage.getItem(\"_token\") != undefined) {\r\n      let productData = {\r\n        id: pro._id,\r\n        productImage: pro.productImage,\r\n        productCost: pro.productCost,\r\n        productName: pro.productName,\r\n        productStock: pro.productStock,\r\n        productProducer: pro.productProducer,\r\n        quantity: 1,\r\n      };\r\n      proData.push(productData);\r\n      if (localStorage.getItem(\"cartData\") != undefined) {\r\n        let cart = JSON.parse(localStorage.getItem(\"cartData\"));\r\n        for (let index = 0; index < cart.length; index++) {\r\n          if (cart[index].id == pro._id) {\r\n            Toastify({\r\n              text: \"Product is available in cart\",\r\n              className: \"primary\",\r\n            }).showToast();\r\n            navigate(\"/cart\");\r\n            return;\r\n          }\r\n        }\r\n        console.log(\"hello\");\r\n        cart.push(productData);\r\n\r\n        Toastify({\r\n          text: \"Product is added in the Cart\",\r\n          className: \"info\",\r\n          style: {\r\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\",\r\n          },\r\n        }).showToast();\r\n        dispatch({ type: \"addCart\" });\r\n        localStorage.setItem(\"cartData\", JSON.stringify(cart));\r\n      } else {\r\n        let token = localStorage.getItem(\"_token\");\r\n        let decode = jwtDecode(token);\r\n        for (let index = 0; index < decode.cartData.length; index++) {\r\n          if (decode.cartData[index].id == pro._id) {\r\n            Toastify({\r\n              text: \"Product is available in cart\",\r\n              className: \"primary\",\r\n            }).showToast();\r\n            navigate(\"/cart\");\r\n            alert(\"there\");\r\n            return;\r\n          }\r\n        }\r\n        decode.cartData.push(productData);\r\n        Toastify({\r\n          text: \"Product is added in the Cart\",\r\n          className: \"info\",\r\n          style: {\r\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\",\r\n          },\r\n        }).showToast();\r\n        dispatch({ type: \"addCart\" });\r\n        localStorage.setItem(\"cartData\", JSON.stringify(decode.cartData));\r\n      }\r\n    } else {\r\n      let productData = {\r\n        id: pro._id,\r\n        productImage: pro.productImage,\r\n        productCost: pro.productCost,\r\n        productName: pro.productName,\r\n        productStock: pro.productStock,\r\n        productProducer: pro.productProducer,\r\n        quantity: 1,\r\n      };\r\n      proData.push(productData);\r\n      if (localStorage.getItem(\"cartData\") != undefined) {\r\n        let cart = JSON.parse(localStorage.getItem(\"cartData\"));\r\n        for (let index = 0; index < cart.length; index++) {\r\n          if (cart[index].id == pro._id) {\r\n            Toastify({\r\n              text: \"Product is available in cart\",\r\n              className: \"primary\",\r\n            }).showToast();\r\n            navigate(\"/cart\");\r\n            return;\r\n          }\r\n        }\r\n\r\n        console.log(\"hello\");\r\n        cart.push(productData);\r\n\r\n        Toastify({\r\n          text: \"Product is added in the Cart\",\r\n          className: \"info\",\r\n          style: {\r\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\",\r\n          },\r\n        }).showToast();\r\n        dispatch({ type: \"addCart\" });\r\n        localStorage.setItem(\"cartData\", JSON.stringify(cart));\r\n      } else {\r\n        localStorage.setItem(\"cartData\", JSON.stringify(proData));\r\n        dispatch({ type: \"addCart\" });\r\n        setShow(true);\r\n        Toastify({\r\n          text: \"Product is added in the Cart\",\r\n          className: \"info\",\r\n          style: {\r\n            background: \"linear-gradient(to right, #00b09b, #96c93d)\",\r\n          },\r\n        }).showToast();\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Carousel>\r\n        <Carousel.Item interval={1000} style={{ height: \"80vh\" }}>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            style={{ height: \"80vh\" }}\r\n            src=\"https://media.istockphoto.com/photos/top-view-of-a-luxurious-living-room-in-a-large-house-by-the-sea-picture-id1284941004?b=1&k=20&m=1284941004&s=170667a&w=0&h=p1fReSMFn2cVt75N1FNz5bqeMFlXCokx7Zd7FuFiZeg=\"\r\n            alt=\"First slide\"\r\n          />\r\n          <Carousel.Caption classna>\r\n            <h3>Furniture</h3>\r\n            <p>\r\n              Furniture refers to movable objects intended to support various\r\n              human activities such as seating, eating, and sleeping\r\n            </p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item interval={500} style={{ height: \"80vh\" }}>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            style={{ height: \"80vh\" }}\r\n            src=\"https://images.unsplash.com/photo-1618377385011-b861fcfb18f8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=626&q=80\"\r\n            alt=\"Second slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>Sofas</h3>\r\n            <p>\r\n              Furniture is also used to hold objects at a convenient height for\r\n              work, or to store things.\r\n            </p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item style={{ height: \"80vh\" }}>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            style={{ height: \"80vh\" }}\r\n            src=\"https://images.unsplash.com/photo-1540518614846-7eded433c457?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=857&q=80\"\r\n            alt=\"Third slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>Decoration</h3>\r\n            <p>\r\n              Furniture can be a product of design and is considered a form of\r\n              decorative art.\r\n            </p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}