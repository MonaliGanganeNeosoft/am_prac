{"ast":null,"code":"var _jsxFileName = \"D:\\\\am\\\\neostore-app\\\\src\\\\Components\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Carousel, Container, Card, Button } from \"react-bootstrap\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { getProducts, gets, updateCart } from \"../configFiles/services\";\nimport jwt_decode from \"jwt-decode\";\nimport { useDispatch } from \"react-redux\";\nimport { Alert, Rating } from \"@mui/material\";\nimport jwtDecode from \"jwt-decode\";\nimport Toastify from \"toastify-js\";\nimport \"toastify-js/src/toastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const [products, setProducts] = useState();\n  const [show, setShow] = useState(false);\n  const [data, setData] = useState();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    getProducts().then(res => {\n      const result = res.data;\n      let popular = result.filter(result.productRating == 5);\n      console.log(popular);\n      setProducts(popular.slice(0, 8));\n    });\n    setTimeout(() => {\n      dispatch({\n        type: \"cartLen\"\n      });\n    }, 100);\n\n    if (localStorage.getItem(\"_token\")) {\n      let token = localStorage.getItem(\"_token\");\n      let decode = jwt_decode(token);\n      console.log(decode);\n      setData(decode);\n    }\n\n    if (localStorage.getItem(\"cartData\") && localStorage.getItem(\"_token\")) {\n      dispatch({\n        type: \"cartLen\"\n      });\n      let cartDetails = JSON.parse(localStorage.getItem(\"cartData\"));\n      console.log(cartDetails);\n      let token = localStorage.getItem(\"_token\");\n      let decode = jwt_decode(token);\n      console.log(decode.cartData);\n      let arr = cartDetails.concat(decode.cartData);\n      console.log(arr);\n      let jsonObject = arr.map(JSON.stringify);\n      console.log(jsonObject);\n      let uniqueSet = new Set(jsonObject);\n      let uniqueArray = Array.from(uniqueSet).map(JSON.parse);\n      console.log(uniqueArray);\n      setTimeout(() => {\n        dispatch({\n          type: \"pldCart\",\n          payload: uniqueArray.length\n        });\n      }, 200);\n      console.log(uniqueArray);\n      dispatch({\n        type: \"cartLen\"\n      });\n      updateCart({\n        id: decode.id,\n        cartData: uniqueArray\n      }).then(res => {\n        localStorage.clear();\n        localStorage.setItem(\"_token\", res.data);\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Dashboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Dashboard, \"BWajLRKt2Dd0UE6/2wv8AQRJpFg=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["D:/am/neostore-app/src/Components/Dashboard.js"],"names":["React","useEffect","useState","Carousel","Container","Card","Button","Navigate","useNavigate","getProducts","gets","updateCart","jwt_decode","useDispatch","Alert","Rating","jwtDecode","Toastify","Dashboard","products","setProducts","show","setShow","data","setData","dispatch","navigate","then","res","result","popular","filter","productRating","console","log","slice","setTimeout","type","localStorage","getItem","token","decode","cartDetails","JSON","parse","cartData","arr","concat","jsonObject","map","stringify","uniqueSet","Set","uniqueArray","Array","from","payload","length","id","clear","setItem"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Carousel, Container, Card, Button } from \"react-bootstrap\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\n\r\nimport { getProducts, gets, updateCart } from \"../configFiles/services\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Alert, Rating } from \"@mui/material\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport Toastify from \"toastify-js\";\r\nimport \"toastify-js/src/toastify.css\";\r\nfunction Dashboard() {\r\n  const [products, setProducts] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [data, setData] = useState();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    getProducts().then((res) => {\r\n      const result = res.data;\r\n      let popular = result.filter(result.productRating == 5);\r\n      console.log(popular);\r\n      setProducts(popular.slice(0, 8));\r\n    });\r\n    setTimeout(() => {\r\n      dispatch({ type: \"cartLen\" });\r\n    }, 100);\r\n    if (localStorage.getItem(\"_token\")) {\r\n      let token = localStorage.getItem(\"_token\");\r\n      let decode = jwt_decode(token);\r\n      console.log(decode);\r\n      setData(decode);\r\n    }\r\n    if (localStorage.getItem(\"cartData\") && localStorage.getItem(\"_token\")) {\r\n      dispatch({ type: \"cartLen\" });\r\n      let cartDetails = JSON.parse(localStorage.getItem(\"cartData\"));\r\n      console.log(cartDetails);\r\n      let token = localStorage.getItem(\"_token\");\r\n      let decode = jwt_decode(token);\r\n      console.log(decode.cartData);\r\n      let arr = cartDetails.concat(decode.cartData);\r\n      console.log(arr);\r\n      let jsonObject = arr.map(JSON.stringify);\r\n      console.log(jsonObject);\r\n      let uniqueSet = new Set(jsonObject);\r\n      let uniqueArray = Array.from(uniqueSet).map(JSON.parse);\r\n      console.log(uniqueArray);\r\n      setTimeout(() => {\r\n        dispatch({ type: \"pldCart\", payload: uniqueArray.length });\r\n      }, 200);\r\n      console.log(uniqueArray);\r\n      dispatch({ type: \"cartLen\" });\r\n      updateCart({ id: decode.id, cartData: uniqueArray }).then((res) => {\r\n        localStorage.clear();\r\n        localStorage.setItem(\"_token\", res.data);\r\n      });\r\n    }\r\n  }, []);\r\n  return <div>Dashboard</div>;\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}