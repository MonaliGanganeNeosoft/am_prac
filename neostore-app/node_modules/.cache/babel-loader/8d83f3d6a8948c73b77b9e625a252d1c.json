{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neosoft\\\\Desktop\\\\amruta\\\\Neostore_Ecommerce_Website\\\\neostore-app\\\\src\\\\Components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Button, Row, Col, Card, Form } from 'react-bootstrap';\nimport EmailIcon from '@mui/icons-material/Email';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport TextField from '@mui/material/TextField';\nimport FormControl from '@mui/material/FormControl';\nimport FacebookIcon from '@mui/icons-material/Facebook';\nimport GoogleIcon from '@mui/icons-material/Google';\nimport TwitterIcon from '@mui/icons-material/Twitter';\nimport { addSocialUser, checkSocial, findSocialUser, getUser } from '../configFiles/services';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport SocialButton from './SocialButton';\nimport { Navigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { Alert } from '@mui/material';\nimport sweet from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst regForEmail = RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\nconst regForPass = RegExp(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/);\n\nfunction Login() {\n  _s();\n\n  const [loginData, setLoginData] = useState({\n    emailAdd: '',\n    password: ''\n  });\n  const [eye, seteye] = useState(true);\n  const [password, setpassword] = useState(\"password\");\n  const [type, settype] = useState(false);\n  const [show, setShow] = useState(false);\n  const [state, setState] = useState({\n    flag: 0\n  });\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (localStorage.getItem(\"cartData\")) {\n      dispatch({\n        type: \"cartLen\"\n      });\n    }\n  }, []);\n  const history = useLocation();\n\n  const Eye = () => {\n    if (password == \"password\") {\n      setpassword(\"text\");\n      seteye(false);\n      settype(true);\n    } else {\n      setpassword(\"password\");\n      seteye(true);\n      settype(false);\n    }\n  };\n\n  const navigate = useNavigate();\n\n  const handleLoginData = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setLoginData({ ...loginData,\n      [name]: value\n    });\n    console.log(loginData);\n  };\n\n  const loggedIn = () => {\n    if (loginData.emailAdd == '' || loginData.password == '') {\n      setShow(true);\n      setTimeout(() => {\n        setShow(false);\n      }, 3000);\n    } else {\n      checkSocial({\n        email: loginData.emailAdd,\n        password: loginData.password\n      }).then(res => {\n        if (res.data.err == 0) {\n          getUser({\n            emailAdd: loginData.emailAdd,\n            password: loginData.password\n          }).then(res => {\n            if (res.data.err == 0) {\n              sweet.fire({\n                title: res.data.message,\n                icon: \"success\",\n                timer: 2000\n              });\n              localStorage.setItem(\"_token\", res.data.token);\n              dispatch({\n                type: \"login\"\n              });\n              navigate('/');\n              dispatch({\n                type: \"cartLen\"\n              });\n            } else if (res.data.err == 1) {\n              sweet.fire({\n                title: res.data.message,\n                icon: \"error\",\n                timer: 1000\n              });\n            }\n          });\n        } else if (res.data.err == 1) {\n          sweet.fire({\n            title: res.data.message,\n            icon: \"warning\",\n            timer: 1000\n          });\n        }\n      });\n    }\n  };\n\n  const handleSocialLogin = user => {\n    console.log(user);\n    addSocialUser({\n      firstName: user.profile.firstName,\n      lastName: user.profile.lastName,\n      emailAdd: user.profile.email,\n      provider: \"social\",\n      photo: user.profile.profilePicURL\n    }).then(res => {\n      if (res.data.err == 0) {\n        sweet.fire({\n          title: res.data.message,\n          icon: \"success\",\n          timer: 2000\n        });\n        localStorage.setItem(\"_token\", res.data.token);\n        dispatch({\n          type: \"login\"\n        });\n        console.log(res.data.token);\n        navigate('/');\n        setState({\n          flag: 1\n        });\n      }\n    });\n  };\n\n  const handleSocialLoginFailure = err => {\n    console.error(err);\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [show == true && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      className: \"fw-bold\",\n      style: {\n        fontSize: \"25px\"\n      },\n      children: \"All Fields are Required!!!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: '33rem',\n            height: \"90%\"\n          },\n          className: \"mt-3 mx-5 px-4\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(SocialButton, {\n              className: \"mb-5 mt-5 me-5 py-3\",\n              style: {\n                width: \"95%\",\n                backgroundColor: \"#3b5998\"\n              },\n              provider: \"facebook\",\n              appId: \"839088120121430\",\n              onLoginSuccess: handleSocialLogin,\n              onLoginFailure: handleSocialLoginFailure,\n              children: [\" \", /*#__PURE__*/_jsxDEV(FacebookIcon, {\n                style: {\n                  fontSize: \"45px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 31\n              }, this), \" Login With FaceBook\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(SocialButton, {\n              className: \"mt-5 px-5 py-3 bg-danger\",\n              style: {\n                width: \"95%\"\n              },\n              provider: \"google\",\n              appId: \"941644477844-r3f9mn9in6ihn735j15jd7k2m9h8q1kf.apps.googleusercontent.com\",\n              onLoginSuccess: handleSocialLogin,\n              onLoginFailure: handleSocialLoginFailure,\n              children: [\" \", /*#__PURE__*/_jsxDEV(GoogleIcon, {\n                style: {\n                  fontSize: \"45px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 31\n              }, this), \"Login With Google\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        style: {\n          width: \"50%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          sx: {\n            border: \"2px solid rgb(223, 223, 223)\",\n            width: \"90%\"\n          },\n          className: \"p-3 my-3 py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Login To NeoStore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            style: {\n              width: \"100%\",\n              border: \"1px solid rgb(223, 223, 223)\",\n              outline: \"none\"\n            },\n            className: \"my-4\",\n            id: \"outlined-basic\",\n            variant: \"outlined\",\n            placeholder: \"Email Address\",\n            name: \"emailAdd\",\n            onChange: handleLoginData,\n            required: true,\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(EmailIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 37\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"exampleForm.ControlInput2\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                width: \"100%\",\n                border: \"1px solid rgb(223, 223, 223)\",\n                outline: \"none\"\n              },\n              className: \"my-4\",\n              id: \"outlined-basic\",\n              variant: \"outlined\",\n              placeholder: \"Password\",\n              name: \"password\",\n              type: password,\n              onChange: handleLoginData,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: \"absolute\",\n                right: \"37px\",\n                bottom: \"140px\",\n                fontSize: \"21px\",\n                cursor: \"pointer\",\n                fontWeight: \"bold\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                onClick: Eye,\n                className: `fa ${eye ? \"fa-eye-slash\" : \"fa-eye\"}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"text-black\",\n            style: {\n              width: \"15%\",\n              backgroundColor: \"grey\",\n              border: \"none\"\n            },\n            onClick: loggedIn,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          style: {\n            marginLeft: \"10px\",\n            textDecoration: \"none\",\n            color: \"black\"\n          },\n          children: \"Register Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forgotpassword\",\n          style: {\n            marginLeft: \"10px\",\n            textDecoration: \"none\",\n            color: \"black\"\n          },\n          children: \"Forgot password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), state.flag == 1 && /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 36\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"G3Zizjw+zgAYlwbDb/L7539lRzI=\", false, function () {\n  return [useDispatch, useLocation, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Neosoft/Desktop/amruta/Neostore_Ecommerce_Website/neostore-app/src/Components/Login.js"],"names":["React","useRef","useState","useEffect","Button","Row","Col","Card","Form","EmailIcon","InputAdornment","TextField","FormControl","FacebookIcon","GoogleIcon","TwitterIcon","addSocialUser","checkSocial","findSocialUser","getUser","Link","useLocation","useNavigate","SocialButton","Navigate","useDispatch","Alert","sweet","regForEmail","RegExp","regForPass","Login","loginData","setLoginData","emailAdd","password","eye","seteye","setpassword","type","settype","show","setShow","state","setState","flag","dispatch","localStorage","getItem","history","Eye","navigate","handleLoginData","event","name","value","target","console","log","loggedIn","setTimeout","email","then","res","data","err","fire","title","message","icon","timer","setItem","token","handleSocialLogin","user","firstName","profile","lastName","provider","photo","profilePicURL","handleSocialLoginFailure","error","window","location","reload","fontSize","width","height","backgroundColor","border","outline","endAdornment","position","right","bottom","cursor","fontWeight","marginLeft","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\r\nimport { Button, Row, Col, Card, Form } from 'react-bootstrap';\r\nimport EmailIcon from '@mui/icons-material/Email';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport TextField from '@mui/material/TextField';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FacebookIcon from '@mui/icons-material/Facebook';\r\nimport GoogleIcon from '@mui/icons-material/Google';\r\nimport TwitterIcon from '@mui/icons-material/Twitter';\r\nimport { addSocialUser, checkSocial, findSocialUser, getUser } from '../configFiles/services';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport SocialButton from './SocialButton';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Alert } from '@mui/material';\r\nimport sweet from 'sweetalert2'\r\n\r\nconst regForEmail = RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\r\nconst regForPass = RegExp(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/);\r\n\r\nfunction Login() {\r\n    const [loginData, setLoginData] = useState({\r\n        emailAdd:'',\r\n        password:''\r\n    })\r\n    const [eye, seteye] = useState(true);\r\n    const [password, setpassword] = useState(\"password\");\r\n    const [type, settype] = useState(false);\r\n    const[show,setShow]=useState(false)\r\n    const [state, setState] = useState({\r\n        flag: 0\r\n    })\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"cartData\")) {\r\n            dispatch({ type: \"cartLen\" })\r\n        }\r\n    }, [])\r\n    const history = useLocation();\r\n    const Eye = () => {\r\n        if (password == \"password\") {\r\n            setpassword(\"text\");\r\n            seteye(false);\r\n            settype(true);\r\n        }\r\n        else {\r\n            setpassword(\"password\");\r\n            seteye(true);\r\n            settype(false);\r\n        }\r\n    }\r\n    const navigate = useNavigate()\r\n    const handleLoginData = (event) => {\r\n        const { name, value } = event.target;\r\n        setLoginData({ ...loginData, [name]: value })\r\n        console.log(loginData)\r\n    }\r\n    const loggedIn = () => {\r\n        if(loginData.emailAdd==''|| loginData.password==''){\r\n            setShow(true)\r\n            setTimeout(() => {\r\n                setShow(false)\r\n            }, 3000);\r\n        }\r\n        else{\r\n        checkSocial({ email: loginData.emailAdd ,password:loginData.password}).then((res) => {\r\n             if (res.data.err == 0) {\r\n                getUser({ emailAdd: loginData.emailAdd, password: loginData.password }).then((res) => {\r\n                    if (res.data.err == 0) {\r\n                        sweet.fire({\r\n                            title:  res.data.message,\r\n                            icon:\"success\",\r\n                            timer:2000\r\n                          })\r\n                          localStorage.setItem(\"_token\", res.data.token);\r\n                          dispatch({type:\"login\"})\r\n                        navigate('/')\r\n                        dispatch({ type: \"cartLen\" })\r\n\r\n                    } else if (res.data.err == 1) {\r\n                        sweet.fire({\r\n                            title:  res.data.message,\r\n                            icon:\"error\",\r\n                            timer:1000\r\n                          })\r\n\r\n                    }\r\n                })\r\n            }\r\n            else if(res.data.err==1){\r\n                sweet.fire({\r\n                    title:  res.data.message,\r\n                    icon:\"warning\",\r\n                    timer:1000\r\n                  })\r\n            }\r\n        })\r\n    }\r\n\r\n    }\r\n\r\n    const handleSocialLogin = (user) => {\r\n        console.log(user);\r\n                addSocialUser({ firstName: user.profile.firstName, lastName: user.profile.lastName, emailAdd: user.profile.email, provider: \"social\",photo:user.profile.profilePicURL}).then((res) => {\r\n                    if (res.data.err == 0) {\r\n                        sweet.fire({\r\n                            title:  res.data.message,\r\n                            icon:\"success\",\r\n                            timer:2000\r\n                          })\r\n                        localStorage.setItem(\"_token\", res.data.token);\r\n                        dispatch({type:\"login\"})\r\n                        console.log(res.data.token)\r\n                    navigate('/')\r\n                        setState({\r\n                            flag: 1\r\n                     })\r\n            }\r\n        })\r\n    };\r\n\r\n    const handleSocialLoginFailure = (err) => {\r\n        console.error(err);\r\n        window.location.reload()\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {show==true && <Alert severity=\"error\" className=\"fw-bold\" style={{fontSize:\"25px\"}}>All Fields are Required!!!</Alert>}\r\n            <Row style={{ width: \"100%\" }}>\r\n                <Col>\r\n                    <Card style={{ width: '33rem', height: \"90%\" }} className=\"mt-3 mx-5 px-4\" >\r\n                        <Card.Body>\r\n                            <SocialButton\r\n                                className=\"mb-5 mt-5 me-5 py-3\" style={{ width: \"95%\", backgroundColor: \"#3b5998\" }}\r\n                                provider=\"facebook\"\r\n                                appId=\"839088120121430\"\r\n                                onLoginSuccess={handleSocialLogin}\r\n                                onLoginFailure={handleSocialLoginFailure}\r\n\r\n                            > <FacebookIcon style={{ fontSize: \"45px\" }} /> Login With FaceBook</SocialButton>\r\n\r\n                            <SocialButton\r\n                                className=\"mt-5 px-5 py-3 bg-danger\" style={{ width: \"95%\" }}\r\n                                provider=\"google\"\r\n                                appId=\"941644477844-r3f9mn9in6ihn735j15jd7k2m9h8q1kf.apps.googleusercontent.com\"\r\n                                onLoginSuccess={handleSocialLogin}\r\n                                onLoginFailure={handleSocialLoginFailure}\r\n\r\n                            > <GoogleIcon style={{ fontSize: \"45px\" }} />Login With Google</SocialButton>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n                <Col style={{ width: \"50%\" }}>\r\n                    <FormControl sx={{ border: \"2px solid rgb(223, 223, 223)\", width: \"90%\" }} className=\"p-3 my-3 py-5\">\r\n                        <h1>Login To NeoStore</h1>\r\n                        <TextField\r\n                            style={{ width: \"100%\", border: \"1px solid rgb(223, 223, 223)\", outline: \"none\" }} className=\"my-4\"\r\n                            id=\"outlined-basic\" variant=\"outlined\" placeholder='Email Address' name=\"emailAdd\" onChange={handleLoginData} required\r\n                            InputProps={{\r\n                                endAdornment: (\r\n                                    <InputAdornment position=\"start\">\r\n                                        <EmailIcon />\r\n                                    </InputAdornment>\r\n                                ),\r\n                            }}\r\n                        />\r\n                        <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput2\">\r\n                            <TextField\r\n                                style={{ width: \"100%\", border: \"1px solid rgb(223, 223, 223)\", outline: \"none\" }} className=\"my-4\" id=\"outlined-basic\" variant=\"outlined\" placeholder='Password' name=\"password\" type={password} onChange={handleLoginData} required>\r\n                            </TextField>\r\n                            <div style={{ position: \"absolute\", right: \"37px\", bottom: \"140px\", fontSize: \"21px\", cursor: \"pointer\", fontWeight: \"bold\" }}>\r\n                                <i onClick={Eye} className={`fa ${eye ? \"fa-eye-slash\" : \"fa-eye\"}`}></i>\r\n                            </div>\r\n                        </Form.Group>\r\n                        <Button className=\"text-black\" style={{ width: \"15%\", backgroundColor: \"grey\", border: \"none\" }} onClick={loggedIn}>Login</Button>\r\n                    </FormControl>\r\n                    <Link to=\"/register\" style={{ marginLeft: \"10px\", textDecoration: \"none\", color: \"black\" }}>Register Now</Link>\r\n                    <Link to=\"/forgotpassword\" style={{ marginLeft: \"10px\", textDecoration: \"none\", color: \"black\" }}>Forgot password?</Link>\r\n                </Col>\r\n            </Row>\r\n            {\r\n                state.flag == 1 && <Navigate to=\"/dashboard\" />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}